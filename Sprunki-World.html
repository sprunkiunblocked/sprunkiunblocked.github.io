<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprunki Dandy's World: Spooky Music Creation Game</title>
    <meta name="description" content="Play Sprunki Dandy's World Mode online! Explore spooky themes, create unique rhythms, and experiment with vibrant characters in this interactive music game. Easy to use, fun to learn, and perfect for sharing your musical creations!" />
    <meta name="keywords" content="Sprunki Dandy's World, Spruki Incredibox, music game, spooky, rhythm, interactive, character, creative, online game, share" />
    <!-- Facebook Open Graph -->
    <meta property="og:title" content="Sprunki Dandy's World: Spooky Music Creation Game" />
    <meta property="og:description" content="Play Sprunki Dandy's World Mode online! Explore spooky themes, create unique rhythms, and experiment with vibrant characters in this interactive music game. Easy to use, fun to learn, and perfect for sharing your musical creations!" />
    <meta property="og:image" content="https://sprunkiunblocked.github.io/datas/images/Sprunki-World.jpg" />
    <meta property="og:url" content="https://sprunkiunblocked.github.io/sprunki-world.html" />
    <meta property="og:type" content="website" />
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Sprunki Dandy's World: Spooky Music Creation Game" />
    <meta name="twitter:description" content="Play Sprunki Dandy's World Mode online! Explore spooky themes, create unique rhythms, and experiment with vibrant characters in this interactive music game. Easy to use, fun to learn, and perfect for sharing your musical creations!" />
    <meta name="twitter:image" content="https://sprunkiunblocked.github.io/datas/images/Sprunki-World.jpg" />
    <link rel="icon" type="image/png" href="datas/favicon.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VL5FGFNQSF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-VL5FGFNQSF');
    </script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                    }
                }
            }
        }
    </script>
    <style>
        .game-container {
            aspect-ratio: 16/9;
        }
        
        @media (max-width: 768px) {
            .game-container {
                aspect-ratio: 4/3;
            }
        }
        
        .ad-container {
            min-height: 250px;
            background-color: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-white font-sans text-gray-800">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-gamepad text-3xl text-primary"></i>
                <h1 class="text-2xl font-bold text-gray-800">Sprunki Unblocked</h1>
            </div>
            
            <nav class="hidden md:flex space-x-8">
                <a href="index.html" class="font-medium hover:text-primary transition">Home</a>
                <a href="newgame.html" class="font-medium hover:text-primary transition">New Games</a>
                <a href="hotgame.html" class="font-medium hover:text-primary transition">Top Games</a>
                <a href="about.html" class="font-medium hover:text-primary transition">About</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Game Title and Info -->
        <section class="mb-8">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                <div>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">Sprunki Dandy's World</h2>
                    <div class="flex items-center space-x-4 text-gray-600">
                        <span class="flex items-center">
                            <i class="fas fa-star text-yellow-400 mr-1"></i> <span id="main-rating"></span>
                        </span>
                        <span id="main-plays"></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Game Area and Sidebar -->
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Main Game Area -->
            <div class="lg:w-2/3">
                <!-- Game Container -->
                <div class="game-container bg-gray-100 rounded-xl overflow-hidden mb-6 shadow-md" id="game-area">
                    <div class="relative w-full h-full flex items-center justify-center">
                        <img src="/datas/images/Sprunki-World.jpg" alt="Sprunki Dandy's World" class="w-full h-full object-cover" id="game-thumbnail">
                        <button id="play-now-btn" class="absolute left-1/4 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-blue-500 to-green-400 text-white px-10 py-6 rounded-2xl text-3xl font-extrabold shadow-2xl border-4 border-white hover:scale-105 hover:from-blue-600 hover:to-green-500 transition-all duration-300 z-20 flex items-center gap-3 animate-bounce">
                            <i class="fas fa-play mr-2 text-4xl"></i> Play Now
                        </button>
                    </div>
                </div>
                
                <!-- Game Controls -->
                <div class="flex flex-wrap gap-3 mb-8">
                    <!-- Play Now button is now inside game-area -->
                    <div class="flex-1 flex gap-2">
                        <button class="bg-blue-100 py-3 rounded-lg font-medium hover:bg-blue-200 transition w-full" id="fb-share-btn" title="Share on Facebook">
                            <i class="fab fa-facebook-f text-blue-600"></i>
                        </button>
                        <button class="bg-blue-100 py-3 rounded-lg font-medium hover:bg-blue-200 transition w-full" id="tw-share-btn" title="Share on Twitter">
                            <i class="fab fa-twitter text-blue-400"></i>
                        </button>
                    </div>
                    <button class="flex-1 bg-gray-100 py-3 rounded-lg font-medium hover:bg-gray-200 transition" id="fullscreen-btn">
                        <i class="fas fa-expand mr-2"></i> Fullscreen
                    </button>
                </div>
                
                <!-- Game Description -->
                <section class="mb-8">
                    <h3 class="text-3xl font-extrabold mb-6 text-primary flex items-center gap-3 animate-pulse">
                        <i class="fas fa-headphones-alt text-2xl text-green-500"></i>
                        About Sprunki Dandy's World
                        <span class="bg-gradient-to-r from-pink-400 to-blue-400 text-white px-3 py-1 rounded-full text-base font-bold ml-2 animate-bounce">#Spooky #Music</span>
                    </h3>
                    <div class="bg-gradient-to-br from-blue-50 via-green-50 to-yellow-50 p-8 rounded-2xl shadow-lg border border-primary/20">
                        <div class="flex flex-col md:flex-row gap-8 items-center">
                            <div class="flex-1">
                                <p class="mb-4 text-lg text-gray-800 font-semibold">
                                    <span class="inline-block bg-yellow-200 text-yellow-900 px-2 py-1 rounded mr-2 font-bold animate-bounce">Play Sprunki Dandy's World Mode Online!</span>
                                    Discover the amazing features of <span class="text-primary font-bold">Spruki Incredibox</span>, a game that combines creativity, fun, and spooky elements to offer an exciting musical rhythm experience.
                                </p>
                                <p class="mb-4 text-base text-gray-700">
                                    <span class="font-bold text-green-600">Spooky Attributes:</span> Immerse yourself in captivating environments, explore spooky themes, and craft catchy beats with a spooky twist.
                                </p>
                                <p class="mb-4 text-base text-gray-700">
                                    <span class="font-bold text-blue-600">Interactive Learning:</span> Dive into melodies, harmonies, and musical theory while interacting with vibrant, dynamic characters. Perfect for learning and entertainment!
                                </p>
                                <p class="mb-4 text-base text-gray-700">
                                    <span class="font-bold text-purple-600">Easy to Use:</span> Enjoy a user-friendly interface—whether you're a music creator or a beginner, you can make engaging music effortlessly.
                                </p>
                                <p class="mb-4 text-base text-gray-700">
                                    <span class="font-bold text-pink-600">Character Exploration:</span> Experiment with unique characters, each bringing their own sounds and personalities. Mix and match for new, unexpected music creations!
                                </p>
                            </div>
                            <div class="flex-1 flex flex-col gap-4">
                                <div class="bg-white rounded-xl shadow p-4">
                                    <h4 class="font-bold text-lg text-primary mb-2 flex items-center gap-2"><i class="fas fa-music text-green-500"></i> How to Play & Features</h4>
                                    <ul class="space-y-2 text-gray-700">
                                        <li class="flex items-center"><i class="fas fa-user-astronaut text-green-500 mr-2"></i> Pick your Sprunki characters and explore their unique sounds.</li>
                                        <li class="flex items-center"><i class="fas fa-music text-green-500 mr-2"></i> Drag and drop sound loops, beats, and melodies onto characters.</li>
                                        <li class="flex items-center"><i class="fas fa-share-alt text-green-500 mr-2"></i> Share your musical masterpiece with friends.</li>
                                        <li class="flex items-center"><i class="fas fa-brain text-green-500 mr-2"></i> Learn musical theory while having fun!</li>
                                    </ul>
                                </div>
                                <div class="bg-white rounded-xl shadow p-4">
                                    <h4 class="font-bold text-lg text-primary mb-2 flex items-center gap-2"><i class="fas fa-gamepad text-blue-500"></i> Controls</h4>
                                    <ul class="space-y-2 text-gray-700">
                                        <li class="flex items-center"><i class="fas fa-hand-pointer mr-2 text-blue-500"></i> Drag and drop sound loops to play.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Game List Section -->
                <section class="mb-12">
                    <h3 class="text-3xl font-bold mb-8 text-gray-900 border-b pb-4">More Games You Might Like</h3>
                    <div id="game-list-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6"></div>
                </section>
            </div>
            
            <!-- Sidebar -->
            <div class="lg:w-1/3 space-y-6">
                <!-- Ad Space -->
                <div class="ad-container">
                    <div class="text-center p-4">
                        <p class="text-gray-500 mb-2">Advertisement</p>
                        <div class="w-full h-[200px] bg-gray-200 flex items-center justify-center">
                            <p>Google AdSense</p>
                        </div>
                    </div>
                </div>
                
                <!-- Similar Games -->
                <section>
                    <h3 class="text-xl font-bold mb-4 text-gray-900">Similar Games</h3>
                    <div id="similar-games-container" class="space-y-4"></div>
                </section>
                
                <!-- Another Ad Space -->
                <div class="ad-container">
                    <div class="text-center p-4">
                        <p class="text-gray-500 mb-2">Advertisement</p>
                        <div class="w-full h-[200px] bg-gray-200 flex items-center justify-center">
                            <p>Google AdSense</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-50 border-t border-gray-200 mt-12">
        <div class="container mx-auto px-4 py-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fas fa-gamepad text-3xl text-primary"></i>
                        <h3 class="text-xl font-bold">Sprunki Unblocked</h3>
                    </div>
                    <p class="text-gray-600 mb-4">
                        The best free online games you can play directly in your browser. No downloads required!
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-500 hover:text-primary transition">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-primary transition">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-primary transition">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-primary transition">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Company</h4>
                    <ul class="space-y-2">
                        <li><a href="about.html" class="text-gray-600 hover:text-primary transition">About Us</a></li>
                        <li><a href="contact.html" class="text-gray-600 hover:text-primary transition">Contact</a></li>
                        <li><a href="privacypolicy.html" class="text-gray-600 hover:text-primary transition">Privacy Policy</a></li>
                        <li><a href="termsofservice.html" class="text-gray-600 hover:text-primary transition">Terms of Service</a></li>
                        <li><a href="dmca.html" class="text-gray-600 hover:text-primary transition">DMCA</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Newsletter</h4>
                    <p class="text-gray-600 mb-4">
                        Subscribe to get updates on new games and special offers.
                    </p>
                    <form class="flex">
                        <input type="email" placeholder="Your email" class="px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent w-full">
                        <button type="submit" class="bg-primary text-white px-4 py-2 rounded-r-lg hover:bg-blue-600 transition">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="border-t border-gray-200 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 mb-4 md:mb-0">
                    &copy; 2025 SprunkiWebGames. All rights reserved.
                </p>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-500 hover:text-primary transition">Privacy Policy</a>
                    <a href="#" class="text-gray-500 hover:text-primary transition">Terms of Service</a>
                    <a href="#" class="text-gray-500 hover:text-primary transition">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        rating = (Math.random() * (5.0 - 4.5) + 4.5).toFixed(1);
        plays = Math.floor(Math.random() * (20000 - 10000 + 1)) + 10000;
        const ratingElement = document.getElementById('main-rating');
        ratingElement.textContent = rating;
        const playsElement = document.getElementById('main-plays');
        playsElement.textContent = plays;

        // Load game data from datas/all-game.json
        let games = [];
        let similarGames = [];
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        function loadGames() {
            fetch('datas/all-game.json')
                .then(response => response.json())
                .then(data => {
                    // Lọc status = 1
                    let filtered = data.filter(game => game.status === 1);
                    // Sắp xếp theo order tăng dần
                    filtered.sort((a, b) => (a.order || 0) - (b.order || 0));
                    // Trộn ngẫu nhiên
                    shuffleArray(filtered);
                    // Lấy 30 game đầu tiên
                    games = filtered.slice(0, 30);
                    // Lấy 3 game category = 'Hot', status = 1
                    let hotGames = data.filter(game => game.status === 1 && game.category === 'Hot');
                    shuffleArray(hotGames);
                    similarGames = hotGames.slice(0, 3);
                    generateGameList();
                    generateSimilarGames();
                });
        }

        // Generate game list items
        function generateGameList() {
            const container = document.getElementById('game-list-container');
            container.innerHTML = '';
            games.forEach(game => {
                game.rating = (Math.random() * (5.0 - 4.5) + 4.5).toFixed(1); // toFixed(1) rounds to one decimal place
                game.plays = Math.floor(Math.random() * (20000 - 10000 + 1)) + 10000;
                const gameItem = document.createElement('div');
                gameItem.className = 'game-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition duration-300 border border-gray-100';
                gameItem.innerHTML = `
                    <a href="${game.slug + '.html' }" class="block h-full flex flex-col">
                        <div class="aspect-w-16 aspect-h-9 bg-gray-200 overflow-hidden">
                            <img src="datas/images/${game.images || ''}" alt="${game.title}" class="w-full h-full object-cover hover:scale-105 transition duration-300">
                        </div>
                        <div class="p-4 flex-grow">
                            <h4 class="font-bold text-gray-800 text-lg mb-1 line-clamp-2">${game.title}</h4>
                            <div class="flex items-center justify-between mt-2">
                                <div class="flex items-center text-sm text-gray-600">
                                    <i class="fas fa-star text-yellow-400 mr-1"></i> ${game.rating || ''}
                                </div>
                                <span class="text-sm font-medium px-2 py-1 bg-gray-100 rounded-md text-gray-700">${game.category || ''}</span>
                            </div>
                            <div class="mt-2 text-xs text-gray-500">
                                <i class="fas fa-play-circle mr-1"></i> ${(game.plays ? game.plays.toLocaleString() : '')} plays
                            </div>
                        </div>
                    </a>
                `;
                container.appendChild(gameItem);
            });
        }

        // Generate similar games
        function generateSimilarGames() {
            const container = document.getElementById('similar-games-container');
            if (!container) return;
            container.innerHTML = '';
            similarGames.forEach(game => {
                game.rating = (Math.random() * (5.0 - 4.5) + 4.5).toFixed(1);
                const gameItem = document.createElement('a');
                gameItem.href = game.slug + '.html';
                gameItem.className = 'game-card block bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition duration-300 border border-gray-100';
                gameItem.innerHTML = `
                    <div class="flex items-center space-x-4">
                        <div class="w-16 h-16 bg-gray-200 rounded-lg overflow-hidden">
                            <img src="datas/images/${game.images || ''}" alt="${game.title}" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h4 class="font-semibold">${game.title}</h4>
                            <div class="flex items-center text-sm text-gray-500">
                                <i class="fas fa-star text-yellow-400 mr-1"></i> ${game.rating}
                                <span class="mx-2">•</span>
                                <span>${game.category}</span>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(gameItem);
            });
        }

        // Fullscreen functionality
        function toggleFullscreen() {
            const iframe = document.getElementById('game-iframe');
            if (iframe) {
                if (!document.fullscreenElement) {
                    iframe.requestFullscreen().catch(err => {
                        alert(`Error attempting to enable fullscreen: ${err.message}`);
                    });
                } else {
                    document.exitFullscreen();
                }
            }
        }

        // Play Now functionality
        function loadGame() {
            const gameArea = document.getElementById('game-area');
            gameArea.innerHTML = `<iframe src="https://iframegame.com/embed/sprunki-world/index.html" class="w-full h-full" frameborder="0" allowfullscreen id="game-iframe"></iframe>`;
        }

        // Mobile menu toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Load and generate game list
            loadGames();
            // Setup Play Now button
            document.getElementById('play-now-btn').addEventListener('click', loadGame);
            // Setup fullscreen button
            document.getElementById('fullscreen-btn').addEventListener('click', toggleFullscreen);
            const mobileMenuButton = document.querySelector('.md\\:hidden');
            // You would add click handler here to show mobile menu

            // Share buttons functionality
            const fbShareBtn = document.getElementById('fb-share-btn');
            const twShareBtn = document.getElementById('tw-share-btn');
            const shareUrl = window.location.href;
            const shareTitle = document.title;
            const shareDesc = document.querySelector('meta[name="description"]').getAttribute('content');
            const shareImg = document.querySelector('meta[property="og:image"]').getAttribute('content');
            console.log(`Share URL: ${shareUrl}`);
            console.log(`shareDesc: ${shareDesc}`);
            console.log(`shareImg: ${shareImg}`);
            console.log(`shareTitle: ${shareTitle}`);

            fbShareBtn.addEventListener('click', function() {
                const quote = `${shareTitle} - ${shareDesc}\n${shareUrl}`;
                const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}&quote=${encodeURIComponent(quote)}&hashtag=%23SprunkiUnblocked`;
                window.open(url, '_blank', 'width=600,height=400');
            });
            twShareBtn.addEventListener('click', function() {
                const tweetText = `${shareTitle} - ${shareDesc} ${shareUrl}`;
                const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}&hashtags=SprunkiUnblocked&via=EpicWebGames`;
                window.open(url, '_blank', 'width=600,height=400');
            });

            // Game rating stars (example)
            const stars = document.querySelectorAll('.rating-star');
            stars.forEach((star, index) => {
                star.addEventListener('click', () => {
                    stars.forEach((s, i) => {
                        if(i <= index) {
                            s.classList.add('text-yellow-400');
                            s.classList.remove('text-gray-300');
                        } else {
                            s.classList.add('text-gray-300');
                            s.classList.remove('text-yellow-400');
                        }
                    });
                });
            });

            // Ad placeholder - in a real implementation you would load Google AdSense here
            console.log('Ad spaces ready for Google AdSense implementation');
        });
    </script>
</body>
</html>